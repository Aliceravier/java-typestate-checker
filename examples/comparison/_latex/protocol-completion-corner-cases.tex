\lstset{language=,caption=\textit{FileProtocol.protocol}}
\begin{code}
typestate FileProtocol {
  Read = {
    String read(): Read,
    void close(): end
  }
}\end{code}

\lstset{language=Java,caption=\textit{File.java}}
\begin{code}
import mungo.lib.Typestate;

@Typestate("FileProtocol")
class File {

  public String read() {
    return "";
  }

  public void close() {
  }

}\end{code}

\lstset{language=Java,caption=\textit{NotOk.java}}
\begin{code}
import java.util.*;

public class NotOk {
  public static void main1() {
    List<File> list = new LinkedList<>();
    list.add(new File());
  }
}\end{code}

\lstset{language=,caption=Original Mungo output}
\begin{code}
None
\end{code}

\lstset{language=,caption=New Mungo output}
\begin{code}
None
\end{code}

